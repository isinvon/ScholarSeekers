<!--é€šçŸ¥æç¤ºæ¡†-->
<template>
  <el-button plain type="text" @click="showNextNotification">ğŸ</el-button>
</template>

<script lang="js" setup>
import {h, ref, onMounted} from 'vue';
import {ElNotification} from 'element-plus';

// å®šä¹‰æ¥æ”¶ JSON æ•°ç»„çš„ prop
const props = defineProps({
  messages: {
    type: Array,
    required: true,
  },
});

// ä½¿ç”¨ ref æ¥å­˜å‚¨å½“å‰æ˜¾ç¤ºæ¶ˆæ¯çš„ç´¢å¼•
const currentIndex = ref(0);

// æ˜¾ç¤ºä¸‹ä¸€ä¸ªé€šçŸ¥çš„æ–¹æ³•
const showNextNotification = () => {
  // è·å–å½“å‰æ¶ˆæ¯
  const currentMessage = props.messages[currentIndex.value];

  // æ˜¾ç¤ºé€šçŸ¥
  ElNotification({
    // title: 'é€šçŸ¥',
    message: h('i', {style: 'color: teal'}, currentMessage.text),
  });

  // æ›´æ–°ç´¢å¼•ï¼Œå¾ªç¯éå†æ•°ç»„
  currentIndex.value = (currentIndex.value + 1) % props.messages.length;
};

</script>
